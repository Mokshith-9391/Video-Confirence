{"ast":null,"code":"import*as React from'react';import Avatar from'@mui/material/Avatar';import Button from'@mui/material/Button';import CssBaseline from'@mui/material/CssBaseline';import TextField from'@mui/material/TextField';import FormControlLabel from'@mui/material/FormControlLabel';import Checkbox from'@mui/material/Checkbox';import Link from'@mui/material/Link';import Paper from'@mui/material/Paper';import Box from'@mui/material/Box';import Grid from'@mui/material/Grid';import LockOutlinedIcon from'@mui/icons-material/LockOutlined';import Typography from'@mui/material/Typography';import{createTheme,ThemeProvider}from'@mui/material/styles';import{AuthContext}from'../contexts/AuthContext';import{Snackbar}from'@mui/material';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const defaultTheme=createTheme();export default function Authentication(){const[username,setUsername]=React.useState();const[password,setPassword]=React.useState();const[name,setName]=React.useState();const[error,setError]=React.useState();const[message,setMessage]=React.useState();const[formState,setFormState]=React.useState(0);const[open,setOpen]=React.useState(false);const{handleRegister,handleLogin}=React.useContext(AuthContext);let handleAuth=async()=>{try{if(formState===0){await handleLogin(username,password);}if(formState===1){let result=await handleRegister(name,username,password);console.log(result);setUsername(\"\");setMessage(result);setOpen(true);setError(\"\");setFormState(0);setPassword(\"\");}}catch(err){console.error(\"Authentication failed:\",err);let errorMessage=\"An unknown error occurred.\";if(err.response&&err.response.data&&err.response.data.message){errorMessage=err.response.data.message;}else if(err.message){errorMessage=err.message;}setError(errorMessage);}};return/*#__PURE__*/_jsxs(ThemeProvider,{theme:defaultTheme,children:[/*#__PURE__*/_jsxs(Grid,{container:true,component:\"main\",sx:{height:'100vh'},children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsx(Grid,{item:true,xs:false,sm:4,md:7,sx:{backgroundImage:'url(https://source.unsplash.com/random?wallpapers)',backgroundRepeat:'no-repeat',backgroundColor:t=>t.palette.mode==='light'?t.palette.grey[50]:t.palette.grey[900],backgroundSize:'cover',backgroundPosition:'center'}}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:8,md:5,component:Paper,elevation:6,square:true,children:/*#__PURE__*/_jsxs(Box,{sx:{my:8,mx:4,display:'flex',flexDirection:'column',alignItems:'center'},children:[/*#__PURE__*/_jsx(Avatar,{sx:{m:1,bgcolor:'secondary.main'},children:/*#__PURE__*/_jsx(LockOutlinedIcon,{})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{variant:formState===0?\"contained\":\"\",onClick:()=>{setFormState(0);},children:\"Sign In\"}),/*#__PURE__*/_jsx(Button,{variant:formState===1?\"contained\":\"\",onClick:()=>{setFormState(1);},children:\"Sign Up\"})]}),/*#__PURE__*/_jsxs(Box,{component:\"form\",noValidate:true,sx:{mt:1},children:[formState===1?/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,id:\"username\",label:\"Full Name\",name:\"username\",value:name,autoFocus:true,onChange:e=>setName(e.target.value)}):/*#__PURE__*/_jsx(_Fragment,{}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,id:\"username\",label:\"Username\",name:\"username\",value:username,autoFocus:true,onChange:e=>setUsername(e.target.value)}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,name:\"password\",label:\"Password\",value:password,type:\"password\",onChange:e=>setPassword(e.target.value),id:\"password\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:error}),/*#__PURE__*/_jsx(Button,{type:\"button\",fullWidth:true,variant:\"contained\",sx:{mt:3,mb:2},onClick:handleAuth,children:formState===0?\"Login \":\"Register\"})]})]})})]}),/*#__PURE__*/_jsx(Snackbar,{open:open,autoHideDuration:4000,message:message})]});}","map":{"version":3,"names":["React","Avatar","Button","CssBaseline","TextField","FormControlLabel","Checkbox","Link","Paper","Box","Grid","LockOutlinedIcon","Typography","createTheme","ThemeProvider","AuthContext","Snackbar","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","defaultTheme","Authentication","username","setUsername","useState","password","setPassword","name","setName","error","setError","message","setMessage","formState","setFormState","open","setOpen","handleRegister","handleLogin","useContext","handleAuth","result","console","log","err","errorMessage","response","data","theme","children","container","component","sx","height","item","xs","sm","md","backgroundImage","backgroundRepeat","backgroundColor","t","palette","mode","grey","backgroundSize","backgroundPosition","elevation","square","my","mx","display","flexDirection","alignItems","m","bgcolor","variant","onClick","noValidate","mt","margin","required","fullWidth","id","label","value","autoFocus","onChange","e","target","type","style","color","mb","autoHideDuration"],"sources":["C:/Users/MOKSHITH/OneDrive/Desktop/VIDEO CONFERENCE/frontend/src/pages/authentication.jsx"],"sourcesContent":["import * as React from 'react';\nimport Avatar from '@mui/material/Avatar';\nimport Button from '@mui/material/Button';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport TextField from '@mui/material/TextField';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport Checkbox from '@mui/material/Checkbox';\nimport Link from '@mui/material/Link';\nimport Paper from '@mui/material/Paper';\nimport Box from '@mui/material/Box';\nimport Grid from '@mui/material/Grid';\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\nimport Typography from '@mui/material/Typography';\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\nimport { AuthContext } from '../contexts/AuthContext';\nimport { Snackbar } from '@mui/material';\n\n\nconst defaultTheme = createTheme();\n\nexport default function Authentication() {\n\n    const [username, setUsername] = React.useState();\n    const [password, setPassword] = React.useState();\n    const [name, setName] = React.useState();\n    const [error, setError] = React.useState();\n    const [message, setMessage] = React.useState();\n\n    const [formState, setFormState] = React.useState(0);\n    const [open, setOpen] = React.useState(false)\n\n    const { handleRegister, handleLogin } = React.useContext(AuthContext);\n\n    let handleAuth = async () => {\n        try {\n            if (formState === 0) {\n                await handleLogin(username, password)\n            }\n            if (formState === 1) {\n                let result = await handleRegister(name, username, password);\n                console.log(result);\n                setUsername(\"\");\n                setMessage(result);\n                setOpen(true);\n                setError(\"\")\n                setFormState(0)\n                setPassword(\"\")\n            }\n        } catch (err) {\n            console.error(\"Authentication failed:\", err);\n            let errorMessage = \"An unknown error occurred.\";\n            if (err.response && err.response.data && err.response.data.message) {\n                errorMessage = err.response.data.message;\n            } else if (err.message) {\n                errorMessage = err.message;\n            }\n            setError(errorMessage);\n        }\n    }\n\n    return (\n        <ThemeProvider theme={defaultTheme}>\n            <Grid container component=\"main\" sx={{ height: '100vh' }}>\n                <CssBaseline />\n                <Grid\n                    item\n                    xs={false}\n                    sm={4}\n                    md={7}\n                    sx={{\n                        backgroundImage: 'url(https://source.unsplash.com/random?wallpapers)',\n                        backgroundRepeat: 'no-repeat',\n                        backgroundColor: (t) =>\n                            t.palette.mode === 'light' ? t.palette.grey[50] : t.palette.grey[900],\n                        backgroundSize: 'cover',\n                        backgroundPosition: 'center',\n                    }}\n                />\n                <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\n                    <Box\n                        sx={{\n                            my: 8,\n                            mx: 4,\n                            display: 'flex',\n                            flexDirection: 'column',\n                            alignItems: 'center',\n                        }}\n                    >\n                        <Avatar sx={{ m: 1, bgcolor: 'secondary.main' }}>\n                            <LockOutlinedIcon />\n                        </Avatar>\n                        <div>\n                            <Button variant={formState === 0 ? \"contained\" : \"\"} onClick={() => { setFormState(0) }}>\n                                Sign In\n                            </Button>\n                            <Button variant={formState === 1 ? \"contained\" : \"\"} onClick={() => { setFormState(1) }}>\n                                Sign Up\n                            </Button>\n                        </div>\n                        <Box component=\"form\" noValidate sx={{ mt: 1 }}>\n                            {formState === 1 ? <TextField\n                                margin=\"normal\"\n                                required\n                                fullWidth\n                                id=\"username\"\n                                label=\"Full Name\"\n                                name=\"username\"\n                                value={name}\n                                autoFocus\n                                onChange={(e) => setName(e.target.value)}\n                            /> : <></>}\n                            <TextField\n                                margin=\"normal\"\n                                required\n                                fullWidth\n                                id=\"username\"\n                                label=\"Username\"\n                                name=\"username\"\n                                value={username}\n                                autoFocus\n                                onChange={(e) => setUsername(e.target.value)}\n                            />\n                            <TextField\n                                margin=\"normal\"\n                                required\n                                fullWidth\n                                name=\"password\"\n                                label=\"Password\"\n                                value={password}\n                                type=\"password\"\n                                onChange={(e) => setPassword(e.target.value)}\n                                id=\"password\"\n                            />\n                            <p style={{ color: \"red\" }}>{error}</p>\n                            <Button\n                                type=\"button\"\n                                fullWidth\n                                variant=\"contained\"\n                                sx={{ mt: 3, mb: 2 }}\n                                onClick={handleAuth}\n                            >\n                                {formState === 0 ? \"Login \" : \"Register\"}\n                            </Button>\n                        </Box>\n                    </Box>\n                </Grid>\n            </Grid>\n            <Snackbar\n                open={open}\n                autoHideDuration={4000}\n                message={message}\n            />\n        </ThemeProvider>\n    );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}