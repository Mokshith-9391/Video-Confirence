{"ast":null,"code":"import React,{useContext,useEffect,useState}from'react';import{AuthContext}from'../contexts/AuthContext';import{useNavigate}from'react-router-dom';import Card from'@mui/material/Card';import Box from'@mui/material/Box';import CardActions from'@mui/material/CardActions';import CardContent from'@mui/material/CardContent';import Button from'@mui/material/Button';import Typography from'@mui/material/Typography';import HomeIcon from'@mui/icons-material/Home';import{IconButton}from'@mui/material';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function History(){const{getHistoryOfUser}=useContext(AuthContext);const[meetings,setMeetings]=useState([]);const routeTo=useNavigate();useEffect(()=>{const fetchHistory=async()=>{try{const history=await getHistoryOfUser();setMeetings(history);}catch(e){console.error(\"Failed to fetch history:\",e);}};fetchHistory();},[]);let formatDate=dateString=>{const date=new Date(dateString);const day=date.getDate().toString().padStart(2,\"0\");const month=(date.getMonth()+1).toString().padStart(2,\"0\");const year=date.getFullYear();return\"\".concat(day,\"/\").concat(month,\"/\").concat(year);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(IconButton,{onClick:()=>{routeTo(\"/home\");},children:/*#__PURE__*/_jsx(HomeIcon,{})}),meetings.length!==0?meetings.map((e,i)=>{return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Card,{variant:\"outlined\",children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(Typography,{sx:{fontSize:14},color:\"text.secondary\",gutterBottom:true,children:[\"Code: \",e.meetingCode]}),/*#__PURE__*/_jsxs(Typography,{sx:{mb:1.5},color:\"text.secondary\",children:[\"Date: \",formatDate(e.date)]})]})},i)});}):/*#__PURE__*/_jsx(_Fragment,{})]});}","map":{"version":3,"names":["React","useContext","useEffect","useState","AuthContext","useNavigate","Card","Box","CardActions","CardContent","Button","Typography","HomeIcon","IconButton","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","History","getHistoryOfUser","meetings","setMeetings","routeTo","fetchHistory","history","e","console","error","formatDate","dateString","date","Date","day","getDate","toString","padStart","month","getMonth","year","getFullYear","concat","children","onClick","length","map","i","variant","sx","fontSize","color","gutterBottom","meetingCode","mb"],"sources":["C:/Users/MOKSHITH/OneDrive/Desktop/VIDEO CONFERENCE/frontend/src/pages/history.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\nimport { AuthContext } from '../contexts/AuthContext'\nimport { useNavigate } from 'react-router-dom';\nimport Card from '@mui/material/Card';\nimport Box from '@mui/material/Box';\nimport CardActions from '@mui/material/CardActions';\nimport CardContent from '@mui/material/CardContent';\nimport Button from '@mui/material/Button';\nimport Typography from '@mui/material/Typography';\nimport HomeIcon from '@mui/icons-material/Home';\nimport { IconButton } from '@mui/material';\n\nexport default function History() {\n    const { getHistoryOfUser } = useContext(AuthContext);\n    const [meetings, setMeetings] = useState([])\n    const routeTo = useNavigate();\n\n    useEffect(() => {\n        const fetchHistory = async () => {\n            try {\n                const history = await getHistoryOfUser();\n                setMeetings(history);\n            } catch (e) {\n                console.error(\"Failed to fetch history:\", e);\n            }\n        }\n        fetchHistory();\n    }, [])\n\n    let formatDate = (dateString) => {\n        const date = new Date(dateString);\n        const day = date.getDate().toString().padStart(2, \"0\");\n        const month = (date.getMonth() + 1).toString().padStart(2, \"0\")\n        const year = date.getFullYear();\n        return `${day}/${month}/${year}`\n    }\n\n    return (\n        <div>\n            <IconButton onClick={() => {\n                routeTo(\"/home\")\n            }}>\n                <HomeIcon />\n            </IconButton >\n            {\n                (meetings.length !== 0) ? meetings.map((e, i) => {\n                    return (\n                        <>\n                            <Card key={i} variant=\"outlined\">\n                                <CardContent>\n                                    <Typography sx={{ fontSize: 14 }} color=\"text.secondary\" gutterBottom>\n                                        Code: {e.meetingCode}\n                                    </Typography>\n                                    <Typography sx={{ mb: 1.5 }} color=\"text.secondary\">\n                                        Date: {formatDate(e.date)}\n                                    </Typography>\n                                </CardContent>\n                            </Card>\n                        </>\n                    )\n                }) : <></>\n            }\n        </div>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}